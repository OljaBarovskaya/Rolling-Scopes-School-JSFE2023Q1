(()=>{"use strict";var e={767:(e,t,n)=>{n.d(t,{Z:()=>h});var a=n(645),r=n.n(a),s=n(667),o=n.n(s),i=n(429),c=n(963),l=r()((function(e){return e[1]})),u=o()(i),d=o()(c);l.push([e.id,"* {\n    box-sizing: border-box;\n  }\n\nbody {\n    min-height: 100vh;\n    margin: 0; \n    padding: 0;\n}\n\nheader{\n    padding: 20px 20px 0px 20px;\n}\n\nmain{\n    padding: 20px;\n}\n\nheader,\nmain {\n    max-width: 1920px;\n    margin: auto;\n} \n\nh1 {\n    display: inline-block;\n}\n\n.generate-cars {\n    display: inline-block;\n}\n\n.car-container {\n    padding-top: 10px;\n    border-bottom: 1px dashed sandybrown;\n    position: relative;\n}\n\n.start,\n.stop {\n    width: 30px;\n    height: 30px;\n    background-size: cover;\n    border-color: sandybrown;\n    margin-top: 5px;\n}\n\n.start {\n    background-image: url("+u+");\n}\n\n.stop {\n    background-image: url("+d+");\n}\n\n.flag {\n    width:40px;\n}\n\n.race-container{\n    display: flex;\n    justify-content: space-between;\n    padding-right: 135px;\n}\n\n.pagination-block {\n  width: 150px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 5px;\n  padding: 10px;\n  margin-left: 30px;\n}\n\n.pagination {\n    display: inline-block;\n    border: 1px solid sandybrown;\n    width: 30px;\n    height: 30px;\n    text-align: center;\n    font-size: 25px;\n}\n\n.pagination:hover {\n    cursor: pointer;\n    background-color: rgba(244, 165, 96, 0.819);\n}\n\nbutton:hover {\n    cursor: pointer;\n}\n\n.pagination:disabled{\n    cursor: default;\n    background-color: transparent;\n}\n\nbutton:disabled {\n    cursor: default;\n}\n\n.winner-message{\n    width: 500px;\n    height: 60px;\n    font-size: 28px;\n    text-align: center;\n    padding: 14px;\n    position: absolute;\n    background: lightyellow;\n    border: 1px solid rgb(249, 170, 11);\n    z-index: 5;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);   \n}\n\ntable {\n    border: 1px solid rgb(244, 182, 12);\n    margin-left: 40px;\n    font-size: 16px;\n  }\n  \n  td,\n  tr,\n  th {\n    text-align: center;\n    border: 1px solid rgb(244, 182, 12);\n    padding: 10px;\n  }",""]);const h=l},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(a)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(r[o]=!0)}for(var i=0;i<e.length;i++){var c=[].concat(e[i]);a&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},427:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var a=n(379),r=n.n(a),s=n(767);r()(s.Z,{insert:"head",singleton:!1});const o=s.Z.locals||{}},379:(e,t,n)=>{var a,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function o(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function i(e,t){for(var n={},a=[],r=0;r<e.length;r++){var i=e[r],c=t.base?i[0]+t.base:i[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var d=o(u),h={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(s[d].references++,s[d].updater(h)):s.push({identifier:u,updater:m(h,t),references:1}),a.push(u)}return a}function c(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var s=n.nc;s&&(a.nonce=s)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var o=r(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var l,u=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,n,a){var r=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var s=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function h(e,t,n){var a=n.css,r=n.media,s=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var g=null,p=0;function m(e,t){var n,a,r;if(t.singleton){var s=p++;n=g||(g=c(t)),a=d.bind(null,n,s,!1),r=d.bind(null,n,s,!0)}else n=c(t),a=h.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var n=i(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var r=o(n[a]);s[r].references--}for(var c=i(e,t),l=0;l<n.length;l++){var u=o(n[l]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}n=c}}}},355:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=["Honda","Mercedes","BMW","Opel","Peugeot","Citroen","Toyota","Mazda","Audi","Volkswagen","Lada","Geely","Saab","Ferrari","Bentley","Acura","Renault","Nissan","Volvo","Fiat","Ford","Infinity","Lexus","Kia","Hummer","Mitsubishi","Seat","Rover","Tesla"],a=[["FR-V","Accord","Civic","CR-V","CR-X","CR-Z","Fit","HR-V","Jazz","Logo"],["W245","W246","W247","W202","W205","X213","W176","W177","W213","EQS","X222"],["i3","i4","i8","IX","M2","M3","M4","M5","X1","X2","X3","X4","X5"],["Astra","Calibra","Combo","Corsa","Insignia","Karl","Mokka","Omega","Record","Zafira"],["1007","106","107","2008","3008","4007","4008","5008","607","605","508"],["AX","BX","C1","C2","C3","C4","C5","C6","C8","DS3"],["Auris","Avalon","Avensis","Augo","C-HR","Camry","Carina","Celica","Corolla","iQ"],["2","3","5","6","121","323","626","929","CX-3","CX-5"],["A1","A2","A3","A4","A5","A6","A8","Q3","Q5","Q7"],["Polo","Bora","Caddy","e-Bora","e-Golf","Golf","Fox","Jetta","Lypo","Passat"],["Vesta","Priora","XRAY","Granta","Kalina","Largus","Niva Travel","2114","2115","2111"],["Atlas","Coolray","Emgrand","MK","Tugella","SC7","Okavango","GS","CK","Atlas Pro"],["9-3","9-5","9-7X","900","9000"],["360","SF1000","F8 Tributo","SF90","Monza SP","SF71H","488 Pista Spider","SF70-H","SF16-H","SF15-T"],["AZURE","FLYING SPUR","CONTINENTAL GT","MULSANNE","CONTINENTAL GT SPEED","BENTAYGA","ARNAGET","CONTINENTAL FLYING SPUR","CONTINENTAL GT V8S","CONTINENTAL GTC"],["CL","ILX","MDX","RDX","RL","RSX","TL","TLX","TSX","ZDX"],["11","19","Logan","Clio","Duster","Espace","Dokker","Capture","Laguna","Megane"],["250SX","350Z","370Z","Almera","Cube","GT-R","Juke","Leaf","Maxima","Micra"],["440","460","480","740","760","940","960","C40","C70","S40"],["Punto","500","500L","500X","500E","Bravo","Brava","Croma","Idea","Marea"],["B-MAX","Focus","S-MAX","Mustang","Mondeo","Scorpio","Sierra","Puma","Ka","Kuga"],["EX","FX","G","JX","Q30","Q45","Q50","Q60","Q70","QX70"],["CT","ES","GX","IC","LC","NX","RC","RX","SC","UX"],["K5","KX3","K900","Niro","Optima","Opirus","Picanto","Joice","Forte","Carens"],["H1","H1","H3"],["ASX","Colt","Eclipse","Eterna","Galant","Grandis","Lancer","Mirage","Montero","Sigma"],["Alhambra","Altea","Arona","Arosa","Ateca","Ibiza","Leon","Mii","Tarraco","Toledo"],["100","200","25","400","45","600","75","800","Streetwise","620"],["Model 3","Model S","Model Y","Model X","Cybertruck","Roadster"]];function r(e,t){return Math.round(Math.random()*(t-e)+e)}t.default=function(){const e=r(0,28),t=r(0,a[e].length-1);return`${n[e]} ${a[e][t]}`}},12:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(438)),s=a(n(917)),o=a(n(483));t.default=class{constructor(){this.movingCars=[],this.server=new o.default}startRace(e){Promise.all(e.map((async e=>{const t=document.getElementById(`${e}`);return[await this.server.startEngine(e),e,t]}))).then((e=>{e.forEach((e=>{this.movingCars.push(e[1]),(0,r.default)(e[2],["start"]),(0,r.default)(document,["start-race"]),(0,s.default)(e[2],["stop"])})),Promise.any(e.map((async e=>{const t=this.animateCarMoving(e[2],e[0],e[1]);return[await this.server.switchToDrive(e[1]).catch((e=>{throw clearInterval(t),e})),e[1],e[0]]}))).then((e=>{const t=document.getElementById(e[1]),n=t.querySelector(".car-name").textContent,a=Number((e[2].distance/e[2].velocity/1e3).toFixed(2)),r=document.createElement("p");r.className="winner-message",r.textContent=`${n} wins the race in ${a}s!`,t.appendChild(r)}))}))}resetRace(e){const t=document.querySelector(".winner-message");t&&t.remove(),Promise.all(e.map((async e=>(await this.server.stopEngine(e),e)))).then((e=>{e.forEach((e=>{const t=document.getElementById(`${e}`);this.returnCarOnStart(e,t),(0,r.default)(t,["stop"]),(0,s.default)(t,["start"])})),(0,s.default)(document,["start-race"])}))}animateCarMoving(e,t,n){const a=e.querySelector(".race-container"),r=a.clientWidth-133,s=a.querySelector("svg");this.movingCars.push(n);let o=0;const i=r/(t.distance/t.velocity/30),c=setInterval((()=>{this.movingCars.includes(n)||(clearInterval(c),setTimeout((()=>{s.style.transform="translateX(0px)"}),1e3)),o+=i,o>=r&&clearInterval(c),s.style.transform=`translateX(${o}px)`}),30);return c}returnCarOnStart(e,t){const n=t.querySelector(".race-container").querySelector("svg"),a=this.movingCars.indexOf(e);this.movingCars.splice(a,1),n.style.transform="none"}}},717:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(527));t.default=class{constructor(){this.view=new r.default}start(){this.view.createStartView();const e=document.querySelector(".garage"),t=document.querySelector(".winners");e.addEventListener("click",(()=>{this.view.removeMainContent(),this.view.createGaragePage()})),t.addEventListener("click",(()=>{this.view.removeMainContent(),this.view.createWinnersPage()}))}}},665:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(355)),s=a(n(609)),o=a(n(12)),i=a(n(438)),c=a(n(917)),l=a(n(483)),u=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];t.default=class{constructor(){this.carsAmount=0,this.page=1,this.carsOnPage=[],this.animations=new o.default,this.server=new l.default}drawGarageBlock(e){this.changeCarsAmount(),this.drawCars(e)}changeCarsAmount(){this.server.getCarsAmount().then((e=>{this.carsAmount=e.length,document.querySelector(".garage__cars-amount").innerText=`(${this.carsAmount})`}))}drawCars(e){document.querySelector(".page-number").innerText=`${e} page`,this.page=e,this.carsOnPage=[],this.server.getCarsFromServer(e).then((e=>{e.forEach((e=>{this.drawCar(e.name,e.color,e.id),this.carsOnPage.push(e.id)}))}))}drawCar(e,t,n){const a=document.querySelector(".garage-container"),r=document.createElement("div");r.className="car-container",r.id=`${n}`,r.insertAdjacentHTML("afterbegin",`<button class="select">Select</button>\n    <button class="remove">Remove</button>\n    <span class="car-name">${e}</span>\n    <br>\n    <button class="start"></button>\n    <button class="stop" disabled></button>\n    <div class="race-container">\n        <svg version="1.0" xmlns="http://www.w3.org/2000/svg"\n          width="75.000000pt" height="37.500000pt" viewBox="0 0 1280.000000 640.000000"\n            preserveAspectRatio="xMidYMid meet">\n        <metadata>\n          Created by potrace 1.15, written by Peter Selinger 2001-2017\n        </metadata>\n        <g  class="car-color" transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)"\n    fill=${t} stroke="none">\n    <path d="M3565 5336 c-106 -30 -101 -26 -108 -111 -4 -42 -9 -80 -12 -85 -6\n    -10 -246 -105 -590 -234 -448 -167 -1052 -415 -1173 -483 -78 -43 -193 -91\n    -250 -104 -23 -5 -98 -14 -165 -19 -67 -6 -167 -19 -222 -30 -154 -31 -340\n    -49 -563 -57 l-203 -6 -43 -66 c-59 -91 -60 -95 -26 -130 37 -37 38 -65 3\n    -150 -25 -62 -27 -78 -31 -256 l-4 -190 -38 -32 c-91 -78 -133 -209 -134 -418\n    0 -194 11 -396 26 -482 13 -71 14 -74 72 -122 69 -58 130 -129 158 -184 64\n    -126 534 -211 1384 -250 l92 -4 -6 119 c-6 142 8 256 49 383 112 352 394 622\n    756 722 90 26 112 28 278 28 165 0 188 -2 278 -27 201 -56 361 -152 504 -302\n    140 -145 222 -293 274 -492 21 -79 24 -109 23 -279 -1 -127 -6 -214 -16 -263\n    l-15 -73 3006 7 c1653 4 3007 8 3009 9 1 1 -8 37 -20 81 -19 67 -22 105 -22\n    259 -1 166 1 187 27 279 117 421 467 736 885 797 119 17 325 7 432 -21 239\n    -63 453 -205 601 -399 70 -92 154 -267 185 -386 24 -88 27 -119 27 -260 1\n    -116 -4 -181 -16 -234 -10 -41 -16 -75 -15 -76 2 -1 62 2 133 6 266 16 458 45\n    525 79 48 24 97 81 127 146 l24 52 -16 157 c-15 152 -15 163 4 284 63 388 50\n    680 -35 802 -134 193 -526 336 -1429 519 -737 149 -1322 209 -2033 210 -228 0\n    -226 0 -347 85 -187 131 -1045 607 -1471 815 -383 187 -788 281 -1439 332\n    -208 17 -1106 16 -1400 0 -121 -7 -314 -19 -430 -27 -302 -22 -286 -22 -341\n    10 -140 81 -187 94 -269 71z m1885 -333 c6 -37 38 -238 71 -446 32 -209 66\n    -422 75 -474 9 -52 15 -96 13 -97 -11 -9 -1699 29 -1951 44 -206 13 -417 36\n    -485 54 -98 26 -198 119 -249 231 -35 75 -36 172 -5 255 17 45 30 61 68 86 83\n    54 135 80 253 127 341 136 858 230 1460 267 269 16 270 16 511 18 l227 2 12\n    -67z m630 47 c264 -18 777 -110 1029 -186 186 -56 445 -188 756 -387 211 -134\n    274 -181 250 -185 -75 -12 -133 -50 -162 -106 -19 -35 -21 -136 -4 -179 l11\n    -27 -907 2 -906 3 -59 160 c-110 302 -298 878 -298 916 0 6 95 2 290 -11z"/>\n    <path d="M2633 3125 c-223 -40 -410 -141 -568 -306 -132 -138 -213 -283 -262\n    -467 -22 -83 -26 -119 -26 -247 -1 -169 10 -236 65 -382 87 -230 271 -436 493\n    -551 85 -44 178 -78 271 -98 107 -23 312 -23 419 1 392 84 699 375 802 761 23\n    86 26 120 27 254 1 158 -5 199 -46 330 -98 310 -355 567 -668 669 -150 50\n    -354 64 -507 36z m350 -301 c249 -56 457 -247 543 -499 25 -72 28 -95 28 -220\n    1 -153 -15 -228 -74 -345 -94 -186 -283 -337 -485 -386 -96 -24 -268 -24 -360\n    0 -320 84 -544 355 -562 681 -20 359 209 673 558 765 94 24 253 26 352 4z"/>\n    <path d="M2600 2697 c-36 -13 -85 -36 -109 -51 l-44 -28 116 -115 c81 -82 120\n    -114 131 -110 14 6 16 29 16 167 0 186 6 178 -110 137z"/>\n    <path d="M2920 2561 c0 -139 2 -162 16 -168 11 -4 50 28 130 108 l115 114 -28\n    22 c-34 28 -138 70 -193 79 l-40 7 0 -162z"/>\n    <path d="M2282 2448 c-28 -36 -92 -191 -92 -225 0 -10 34 -13 165 -13 151 0\n    165 1 165 18 0 15 -206 232 -221 232 -4 0 -11 -6 -17 -12z"/>\n    <path d="M3222 2351 c-62 -59 -112 -115 -112 -124 0 -15 17 -17 165 -17 131 0\n    165 3 165 13 0 40 -69 205 -95 227 -7 6 -48 -27 -123 -99z"/>\n    <path d="M2781 2332 c-12 -22 11 -62 34 -62 8 0 21 10 29 22 20 28 4 58 -29\n    58 -13 0 -29 -8 -34 -18z"/>\n    <path d="M2749 2161 c-32 -33 -37 -67 -14 -110 29 -57 104 -64 151 -14 53 57\n    9 153 -71 153 -27 0 -44 -8 -66 -29z"/>\n    <path d="M2570 2125 c-26 -32 13 -81 48 -59 24 16 27 45 6 61 -23 17 -39 16\n    -54 -2z"/>\n    <path d="M3006 2124 c-20 -19 -20 -38 -2 -54 23 -19 61 -8 64 18 7 44 -32 67\n    -62 36z"/>\n    <path d="M2190 1975 c0 -29 41 -140 72 -194 l31 -53 117 117 c71 71 116 123\n    113 131 -4 11 -40 14 -169 14 -141 0 -164 -2 -164 -15z"/>\n    <path d="M3110 1972 c0 -9 51 -68 114 -131 l114 -114 31 54 c30 51 71 165 71\n    195 0 11 -31 14 -165 14 -151 0 -165 -1 -165 -18z"/>\n    <path d="M2780 1901 c-7 -15 -5 -24 8 -41 32 -40 85 -4 62 41 -14 25 -56 25\n    -70 0z"/>\n    <path d="M2562 1697 c-61 -62 -112 -115 -112 -119 0 -18 208 -108 249 -108 7\n    0 11 54 11 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115 -113z"/>\n    <path d="M2933 1803 c-15 -6 -19 -333 -4 -333 46 0 251 88 251 108 0 9 -223\n    232 -230 231 -3 0 -11 -3 -17 -6z"/>\n    <path d="M10700 3119 c-390 -84 -696 -376 -797 -759 -31 -117 -41 -292 -24\n    -411 33 -227 150 -453 318 -609 267 -250 643 -344 993 -249 117 32 283 118\n    380 196 487 396 518 1128 67 1560 -97 93 -166 140 -290 198 -137 64 -235 86\n    -407 91 -120 3 -162 0 -240 -17z m445 -313 c238 -81 409 -258 486 -506 30 -96\n    33 -289 5 -388 -110 -400 -513 -637 -911 -536 -149 38 -313 147 -402 267 -176\n    238 -203 533 -71 797 34 69 60 103 138 180 77 78 111 104 181 139 129 65 207\n    81 364 77 109 -3 143 -7 210 -30z"/>\n    <path d="M10703 2700 c-54 -19 -153 -71 -153 -80 0 -3 51 -57 114 -119 80 -80\n    119 -112 130 -108 14 5 16 29 16 167 l0 160 -27 -1 c-16 0 -52 -9 -80 -19z"/>\n    <path d="M11020 2561 c0 -139 2 -162 16 -168 22 -8 247 216 234 232 -17 20\n    -163 84 -207 91 l-43 7 0 -162z"/>\n    <path d="M10366 2424 c-29 -44 -76 -165 -76 -194 0 -19 7 -20 165 -20 126 0\n    165 3 165 13 0 7 -51 63 -114 126 l-114 114 -26 -39z"/>\n    <path d="M11313 2348 c-61 -62 -109 -119 -106 -125 6 -15 333 -19 333 -4 0 45\n    -88 241 -108 241 -4 0 -57 -51 -119 -112z"/>\n    <path d="M10882 2338 c-17 -17 -15 -32 7 -52 16 -14 23 -15 41 -6 31 17 24 64\n    -10 68 -14 2 -31 -3 -38 -10z"/>\n    <path d="M10846 2159 c-68 -81 17 -194 110 -144 89 48 56 175 -46 175 -30 0\n    -44 -6 -64 -31z"/>\n    <path d="M10670 2126 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20\n    -54 2z"/>\n    <path d="M11106 2127 c-21 -16 -18 -45 7 -61 37 -23 77 35 41 61 -10 7 -21 13\n    -24 13 -3 0 -14 -6 -24 -13z"/>\n    <path d="M10290 1970 c0 -29 43 -141 74 -195 l28 -48 116 116 c81 81 113 120\n    109 131 -6 14 -29 16 -167 16 -152 0 -160 -1 -160 -20z"/>\n    <path d="M11207 1978 c-3 -7 47 -66 111 -130 l116 -118 27 43 c27 44 79 177\n    79 203 0 12 -28 14 -164 14 -122 0 -166 -3 -169 -12z"/>\n    <path d="M10881 1901 c-14 -25 -5 -48 20 -56 27 -9 51 13 47 44 -4 34 -51 43\n    -67 12z"/>\n    <path d="M10662 1697 c-61 -62 -112 -115 -112 -119 0 -20 201 -108 247 -108\n    10 0 13 34 13 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115\n    -113z"/>\n    <path d="M11033 1803 c-10 -3 -13 -47 -13 -169 0 -90 4 -164 8 -164 36 0 186\n    61 239 98 16 10 -216 242 -234 235z"/>\n    </g>\n        </svg>\n        <img class="flag" src="./img/flag.png" alt="flag">\n    </div>`),this.addCarListeners(r,e,t,n),a.appendChild(r)}addCarListeners(e,t,n,a){e.addEventListener("click",(async r=>{(0,s.default)();const o=r.target;if(o.classList.contains("remove")){await this.server.deleteCarOnServer(a),e.remove();const t=this.carsOnPage.indexOf(a);this.carsOnPage.splice(t,1),this.carsAmount-1>=7*this.page&&this.server.getCarsFromServer(this.page).then((e=>{const t=e[6].id;this.getAndDrawCar(t),this.carsOnPage.push(a)})),this.changeCarsAmount()}if(o.classList.contains("select")){document.querySelector(".car-name-update-input").value=t,document.querySelector(".color-update-input").value=n;const e=document.querySelector(".button-update-car");e.classList.add("selected"),e.classList.add(`${a}`)}o.classList.contains("start")&&this.startCar(a,e),o.classList.contains("stop")&&this.stopCar(a,e)}))}removeCars(){const e=document.querySelector(".garage-container");for(;e.firstElementChild;)e.firstElementChild.remove()}getAndDrawCar(e){this.server.getCar(e).then((e=>{this.drawCar(e.name,e.color,e.id)}))}createCar(e,t={name:"",color:""}){this.server.createCarOnServer(t).then((t=>{const n=Math.ceil((this.getCarsAmount()+1)/7);console.log("pages Amount",n),e===n&&(this.drawCar(t.name,t.color,t.id),this.carsOnPage.push(t.id))})).then((()=>this.changeCarsAmount()))}updateCar(e,t,n){this.server.updateCarOnServer(e,t,n);const a=document.getElementById(`${e}`);a.querySelector(".car-name").innerHTML=t,a.querySelector(".car-color").setAttribute("fill",n)}startCar(e,t){this.server.startEngine(e).then((n=>{(0,i.default)(t,["start"]),(0,i.default)(document,["start-race"]),(0,c.default)(t,["stop"]);const a=this.animations.animateCarMoving(t,n,e);this.server.switchToDrive(e).catch((()=>{clearInterval(a);const t=this.animations.movingCars.indexOf(e);this.animations.movingCars.splice(t,1)}))}))}stopCar(e,t){this.animations.server.stopEngine(e).then((()=>{this.animations.returnCarOnStart(e,t),(0,i.default)(t,["stop"]),(0,c.default)(t,["start"]),(0,c.default)(document,["start-race"])}))}generateCars(e=100){for(let t=1;t<=e;t+=1){const e=(0,r.default)();let t="#";for(let e=1;e<=6;e+=1){const e=(0,15,Math.round(15*Math.random()+0));t+=u[e]}this.createCar(this.page,{name:e,color:t})}}getCarsAmount(){return console.log("this.carsAmount",this.carsAmount),this.carsAmount}getPagesAmount(){return Math.ceil(this.carsAmount/7)}}},527:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(609)),s=a(n(243)),o=a(n(665)),i=a(n(12));t.default=class{constructor(){this.garage=new o.default,this.carNameCreateValue="",this.carColorCreateValue="#0C3AC4",this.carNameUpdateValue="",this.carColorUpdateValue="#0C3AC4",this.garagePage=1,this.animation=new i.default}createPageNavigationButtons(){document.body.insertAdjacentHTML("afterbegin",'\n    <header class="header">\n            <button type="submit" class="garage">Garage</button>\n            <button type="submit" class="winners">Winners</button>\n    </header>\n    <main class="main">\n    </main>')}createGaragePage(){document.querySelector(".main").insertAdjacentHTML("afterbegin",`    \n            <input type="text" class="car-name-create-input" value=${this.carNameCreateValue}>\n            <input type="color" class="color-create-input" value=${this.carColorCreateValue}>\n            <button type="submit" class="button-create-car">Create</button>\n            <br>\n            <input type="text" class="car-name-update-input">\n            <input type="color" class="color-update-input" value="#0C3AC4">\n            <button type="submit" class="button-update-car">Update</button>\n            <br>\n            <div class="garage-block">\n            <h1 class="garage">Garage<span class="garage__cars-amount">()</span></h1>\n            \n            <button class="generate-cars" >Generate cars</button>\n            <button class="start-race" >Start race</button>\n            <button class="reset" >Reset</button>\n            <hr>\n            <div class="garage-container">\n            </div>\n      <div class="pagination-block">\n        <button class="pagination pagination-left"><</button>\n        <span class="page-number">1 page</span>\n        <button class="pagination pagination-right">></button>\n       </div>\n            </div>\n            `),this.garage.drawGarageBlock(this.garagePage),this.addGarageListeners();const e=document.querySelector(".pagination-left");1===this.garagePage&&e.setAttribute("disabled","")}removeMainContent(){const e=document.querySelector(".main");for(;e.firstElementChild;)e.firstElementChild.remove()}addGarageListeners(){const e=document.querySelector(".car-name-create-input");e.addEventListener("blur",(()=>{this.carNameCreateValue=e.value}));const t=document.querySelector(".color-create-input");t.addEventListener("blur",(()=>{this.carColorCreateValue=t.value}));const n=document.querySelector(".car-name-update-input");n.addEventListener("blur",(()=>{this.carNameUpdateValue=n.value}));const a=document.querySelector(".color-update-input");a.addEventListener("blur",(()=>{this.carColorUpdateValue=a.value})),document.querySelector(".start-race").addEventListener("click",(()=>{this.garage.animations.startRace(this.garage.carsOnPage)})),document.querySelector(".reset").addEventListener("click",(()=>this.garage.animations.resetRace(this.garage.carsOnPage))),document.querySelector(".button-create-car").addEventListener("click",(()=>{this.garage.createCar(this.garagePage,{name:this.carNameCreateValue,color:this.carColorCreateValue}),(0,s.default)()}));const o=document.querySelector(".button-update-car");o.addEventListener("click",(()=>{if(o.classList.contains("selected")){const e=Number(o.className.split(" ")[2]),t=this.carNameUpdateValue,n=this.carColorUpdateValue;this.garage.updateCar(e,t,n),(0,r.default)()}}));const i=document.querySelector(".pagination-left"),c=document.querySelector(".pagination-right");i.addEventListener("click",(()=>{2===this.garagePage&&i.setAttribute("disabled",""),this.garagePage===this.garage.getPagesAmount()&&c.removeAttribute("disabled"),this.garagePage-=1,this.garage.removeCars(),this.garage.drawCars(this.garagePage),(0,r.default)(),this.animation.resetRace(this.garage.carsOnPage)})),c.addEventListener("click",(()=>{1===this.garagePage&&i.removeAttribute("disabled"),this.garagePage===this.garage.getPagesAmount()-1&&c.setAttribute("disabled",""),this.garagePage+=1,this.garage.removeCars(),this.garage.drawCars(this.garagePage),(0,r.default)(),this.animation.resetRace(this.garage.carsOnPage)})),document.querySelector(".generate-cars").addEventListener("click",(()=>this.garage.generateCars()))}createWinnersPage(){document.querySelector(".main").insertAdjacentHTML("afterbegin",'\n    <h1 class="winners">Winners</h1>\n    <hr>\n    <table>\n    <thead>\n        <tr>\n            <th class="number">Number</th>\n            <th class="car-name">Name</th>\n            <th class="wins-quantity">Wins quantity</th>\n            <th class="best-result">Best result</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr class = row-1>\n            <td class="number">1</td>\n            <td class="car-name">Name</td>\n            <td class="wins-quantity">Wins quantity</td>\n            <td class="best-result">Best result</td>\n        </tr>\n    </tbody>\n  </table>\n  <div class="pagination-block">\n    <button class="pagination pagination-left"><</button>\n    <span class="page-number">1 page</span>\n    <button class="pagination pagination-right">></button>\n  </div>')}createStartView(){this.createPageNavigationButtons(),this.createGaragePage()}}},609:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(733));t.default=function(){(0,r.default)(),document.querySelector(".button-update-car").className="button-update-car"}},243:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){document.querySelector(".car-name-create-input").value="",document.querySelector(".color-create-input").value="#0C3AC4"}},733:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){document.querySelector(".car-name-update-input").value="",document.querySelector(".color-update-input").value="#0C3AC4"}},438:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t.forEach((t=>{e.querySelector(`.${t}`).setAttribute("disabled","")}))}},917:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t.forEach((t=>{e.querySelector(`.${t}`).removeAttribute("disabled")}))}},607:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(427),(new(a(n(717)).default)).start()},483:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{async startEngine(e){return(await fetch(`http://127.0.0.1:3000/engine/?id=${e}&status=started`,{method:"PATCH"})).json()}async stopEngine(e){return(await fetch(`http://127.0.0.1:3000/engine/?id=${e}&status=stopped`,{method:"PATCH"})).json()}async switchToDrive(e){const t=await fetch(`http://127.0.0.1:3000/engine/?id=${e}&status=drive`,{method:"PATCH"});if(!t.ok){const e=`An error has occured: ${t.status}`;throw new Error(e)}return t.json()}async getCarsAmount(){return(await fetch("http://127.0.0.1:3000/garage?")).json()}async getCarsFromServer(e){return(await fetch(`http://127.0.0.1:3000/garage/?_page=${e}&_limit=7`)).json()}async deleteCarOnServer(e){return(await fetch(`http://127.0.0.1:3000/garage/${e}`,{method:"DELETE"})).json()}async getCar(e){return(await fetch(`http://127.0.0.1:3000/garage/${e}`)).json()}async createCarOnServer(e={name:"",color:""}){return(await fetch("http://127.0.0.1:3000/garage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}async updateCarOnServer(e,t,n){return(await fetch(`http://127.0.0.1:3000/garage/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,color:n})})).json()}}},429:(e,t,n)=>{e.exports=n.p+"f80e533bcdef15c30910.png"},963:(e,t,n)=>{e.exports=n.p+"cabb47c516871d6bce7b.png"}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={id:a,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var r=a.length-1;r>-1&&!e;)e=a[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.nc=void 0,n(607)})();